4 задания. Дедлайн 2 декабря.​


1) Необходимо написать команду для командной строки, которая из текущей директории рекурсивно найдет все файлы представляющие собой исходный java код (например, Luk.java или ATAT.java) и не содержащие строчку import ru.hh.deathstar и сохранит их названия в файле almost_harmless.txt
>>
grep -LR 'import ru.hh.deathstar' --include '*.java' . > almost_harmless.txt


2) Вывести список процессов, в команде (запустившей процессы) которых содержится строка "127.0.0.1", PID этих процессов должен быть 5-значным. Выведенный список отсортировать по убыванию PID
>> 
ps aux | grep 127.0.0.1 | awk 'length($2) == 5 { print }' | sort -k2r


3) Написать команду, которая имена всех файлов, содержащих (внутри этих файлов) строку "error" (вне зависимости от регистра) записывает в новый файл, а на экран выводит эти же имена и размер самих файлов. Файлы должны иметь расширение log, искать в текущей директории и далее рекурсивно.
>>
grep -Ril error --include '*.log' | tee new.txt | xargs wc -c

4) Пример лог-файла:​
2013-01-18 12:20:21,345 info GET  12345 /resume?id=1&rss=0 200
321.00ms
2013-01-18 12:20:22,345 info GET  12245 /resume?rss=0&id=1 200
333.00ms
2013-01-18 12:21:34,002 warn GET 11345 /vacancyerror 500  123.09ms
2013-01-18 12:22:11,932 error POST 15345 /user 200  444.44ms
....

Пояснение:

date time log_level request_type user_id url  response_code response_time

а) Рассчитайте общее время успешных обращений к URL /resume c 12 до 13. Рассчитать среднее значение, 95% квантиль, 99% квантиль времени отклика (response_time) к этому URL.

общее время
среднее
95
99


б) Рассчитать среднее значение и медиану по времени отклика к резюме с id=43 в течение заданного дня.

задать день
среднее
50

в) Постройте график 95% квантили по времени отклика в течение дня по трем типам URL: /resume /vacancy /user. Каждый URL должна иметь свой цвет. (Вы можете использовать timeplot для создания диаграмм)

95 квантили 3 типов